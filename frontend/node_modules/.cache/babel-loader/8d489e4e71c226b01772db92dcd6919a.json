{"ast":null,"code":"import _slicedToArray from\"/home/deep/Imbesideyou/Imbesideyou_assignment/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createRef,useRef,useEffect,useState}from\"react\";import Webcam from\"react-webcam\";import IconButton from\"@material-ui/core/IconButton\";import{Box,Button,makeStyles,Typography}from\"@material-ui/core\";import Image from\"../media/home.jpg\";import useMediaQuery from\"@material-ui/core/useMediaQuery\";import{useNavigate}from\"react-router-dom\";import{useScreenshot,createFileName}from\"use-react-screenshot\";import GetAppIcon from\"@material-ui/icons/GetApp\";import PhotoCameraIcon from\"@material-ui/icons/PhotoCamera\";import ArrowBackIosIcon from\"@material-ui/icons/ArrowBackIos\";import ArrowForwardIosIcon from\"@material-ui/icons/ArrowForwardIos\";import FaceMask from\"../components/features/faceMask\";import FaceCurve from\"../components/features/faceCurve\";import Lipstick from\"../components/features/lipstick\";import HandPose from\"../components/features/handShapeDetection\";import GreenScreen from\"../components/features/selfieSegmentation\";import BodyPose from\"../components/features/bodyPoseDetection\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{backgroundImage:\"url(\".concat(Image,\")\"),backgroundPosition:\"center\",backgroundSize:\"cover\",backgroundRepeat:\"no-repeat\",background:\"#000\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",height:\"100vh\",width:\"100wh\"},webcam:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",marginTop:80},getImage:{position:\"absolute\",display:\"flex\",alignItems:'center',justifyContent:\"center\",zIndex:20},iconButton:{color:\"#FFF\",fontSize:12,position:\"absolute\",right:25,top:20,borderRadius:0,\"&:hover\":{color:\"#000\",background:\"#FFF\"},border:\"1px solid #fff\"},image:{position:\"absolute\",zIndex:20},download:{position:\"absolute\"}};});export default function Feature(){var classes=useStyles();var webcamRef=useRef(null);var canvasRef=useRef(null);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(\"Facemask\"),_useState4=_slicedToArray(_useState3,2),heading=_useState4[0],setHeading=_useState4[1];var Screen=useMediaQuery(\"(min-width:600px)\");var navigate=useNavigate();var ref=/*#__PURE__*/createRef(null);var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),imageref=_useState6[0],setImageref=_useState6[1];var _useScreenshot=useScreenshot({type:\"image/jpeg\",quality:1.0}),_useScreenshot2=_slicedToArray(_useScreenshot,2),image=_useScreenshot2[0],takeScreenShot=_useScreenshot2[1];var getImage=function getImage(){takeScreenShot(ref.current);};var leftChange=function leftChange(){if(value>0){setValue(value-1);}};var rightChange=function rightChange(){if(value<5){setValue(value+1);}};useEffect(function(){if(value===0){FaceMask(webcamRef,canvasRef);setHeading(\"Facemask\");}else if(value===1){FaceCurve(webcamRef,canvasRef);setHeading(\"Facecurve\");}else if(value===2){Lipstick(webcamRef,canvasRef);setHeading(\"Lipstick\");}else if(value===3){HandPose(webcamRef,canvasRef);setHeading(\"Handpose\");}else if(value===4){GreenScreen(webcamRef,canvasRef);setHeading(\"Greenscreen\");}else if(value===5){BodyPose(webcamRef,canvasRef);setHeading(\"Bodypose\");}},[value]);var download=function download(image){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$name=_ref.name,name=_ref$name===void 0?\"img\":_ref$name,_ref$extension=_ref.extension,extension=_ref$extension===void 0?\"jpg\":_ref$extension;var a=document.createElement(\"a\");a.href=image;a.download=createFileName(extension,name);a.click();};var downloadScreenshot=function downloadScreenshot(){return takeScreenShot(ref.current).then(download);};var signOut=function signOut(){localStorage.removeItem(\"token\");navigate(\"/\");};useEffect(function(){if(!localStorage.getItem(\"token\")){navigate(\"/\");}//eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(Box,{disply:\"flex\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"textSecondary\",align:\"center\",style:{userSelect:\"none\",fontSize:20,letterSpacing:6,marginTop:0,position:\"absolute\",left:20,top:20,color:\"#FFF\"},children:\"FACEKART\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",className:classes.iconButton,onClick:signOut,children:\"signOut\"})]}),/*#__PURE__*/_jsx(Box,{style:{width:Screen?680:320,background:\"#0006\",position:\"absolute\",zIndex:29,transform:\"translate(0% , -540%)\"},children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"textSecondary\",align:\"center\",style:{color:\"#FFF\",fontSize:20},children:heading})}),/*#__PURE__*/_jsxs(\"div\",{ref:ref,className:classes.webcam,children:[/*#__PURE__*/_jsx(Webcam,{ref:webcamRef,style:{position:\"absolute\",marginLeft:\"auto\",marginRight:\"auto\",left:0,right:0,textAlign:\"center\",zindex:9,width:Screen?700:340,height:Screen?520:420}}),\" \",/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,className:\"output_canvas\",style:{position:\"absolute\",marginLeft:\"auto\",marginRight:\"auto\",left:0,right:0,textAlign:\"center\",zindex:9,width:Screen?700:340,height:Screen?520:420,background:\"#0002\"}})]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"flex-end\",style:{width:Screen?680:320},children:[/*#__PURE__*/_jsx(IconButton,{style:{color:\"#FFF\",fontSize:20,padding:20,background:\"#0006\"},onClick:leftChange,disabled:value===0?true:false,children:/*#__PURE__*/_jsx(ArrowBackIosIcon,{})}),/*#__PURE__*/_jsx(IconButton,{style:{color:\"#FFF\",fontSize:20,padding:20,background:\"#0006\"},onClick:rightChange,disabled:value===5?true:false,children:/*#__PURE__*/_jsx(ArrowForwardIosIcon,{})})]}),/*#__PURE__*/_jsx(Box,{className:classes.getImage,style:{width:Screen?680:320,marginTop:Screen?120:70},children:/*#__PURE__*/_jsx(IconButton,{style:{color:\"#FFF\",fontSize:20,padding:20,background:\"#0006\"},onClick:getImage,children:/*#__PURE__*/_jsx(PhotoCameraIcon,{})})}),/*#__PURE__*/_jsx(Box,{className:classes.image,style:{marginTop:Screen?-270:-250},children:image&&/*#__PURE__*/_jsx(\"img\",{style:{height:\"110px\",width:\"125px\"},src:image,alt:\"Screenshot\"})}),/*#__PURE__*/_jsx(Box,{className:classes.download,style:{marginTop:Screen?-270:-250,marginLeft:90},children:image&&/*#__PURE__*/_jsx(IconButton,{style:{color:\"#FFF\",fontSize:10,padding:5,zIndex:34},onClick:downloadScreenshot,children:/*#__PURE__*/_jsx(GetAppIcon,{})})})]})});}","map":{"version":3,"sources":["/home/deep/Imbesideyou/Imbesideyou_assignment/frontend/src/pages/feature.js"],"names":["React","createRef","useRef","useEffect","useState","Webcam","IconButton","Box","Button","makeStyles","Typography","Image","useMediaQuery","useNavigate","useScreenshot","createFileName","GetAppIcon","PhotoCameraIcon","ArrowBackIosIcon","ArrowForwardIosIcon","FaceMask","FaceCurve","Lipstick","HandPose","GreenScreen","BodyPose","useStyles","theme","root","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","background","display","flexDirection","alignItems","justifyContent","height","width","webcam","marginTop","getImage","position","zIndex","iconButton","color","fontSize","right","top","borderRadius","border","image","download","Feature","classes","webcamRef","canvasRef","value","setValue","heading","setHeading","Screen","navigate","ref","imageref","setImageref","type","quality","takeScreenShot","current","leftChange","rightChange","name","extension","a","document","createElement","href","click","downloadScreenshot","then","signOut","localStorage","removeItem","getItem","userSelect","letterSpacing","left","transform","marginLeft","marginRight","textAlign","zindex","padding"],"mappings":"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","sourcesContent":["import React, { createRef, useRef, useEffect, useState } from \"react\";\n\nimport Webcam from \"react-webcam\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Box, Button, makeStyles, Typography } from \"@material-ui/core\";\nimport Image from \"../media/home.jpg\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useScreenshot, createFileName } from \"use-react-screenshot\";\n\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport FaceMask from \"../components/features/faceMask\";\nimport FaceCurve from \"../components/features/faceCurve\";\nimport Lipstick from \"../components/features/lipstick\";\nimport HandPose from \"../components/features/handShapeDetection\";\nimport GreenScreen from \"../components/features/selfieSegmentation\";\nimport BodyPose from \"../components/features/bodyPoseDetection\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundImage: `url(${Image})`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    background: \"#000\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100vh\",\n    width: \"100wh\",\n  },\n  webcam: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 80,\n  },\n  getImage: {\n    position: \"absolute\",\n    display: \"flex\",\n    alignItems:  'center',\n    justifyContent: \"center\",\n    zIndex: 20,\n  },\n  iconButton: {\n    color: \"#FFF\",\n    fontSize: 12,\n    position: \"absolute\",\n    right: 25,\n    top: 20,\n    borderRadius: 0,\n    \"&:hover\": {\n      color: \"#000\",\n      background: \"#FFF\",\n    },\n    border: \"1px solid #fff\",\n  },\n  image: {\n    position: \"absolute\",\n    zIndex : 20\n  },\n  download: {\n    position: \"absolute\",\n  },\n}));\n\nexport default function Feature() {\n  const classes = useStyles();\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [value, setValue] = useState(0);\n  const [heading, setHeading] = useState(\"Facemask\");\n  const Screen = useMediaQuery(\"(min-width:600px)\");\n  const navigate = useNavigate();\n  const ref = createRef(null);\n  const [imageref , setImageref] = useState(null);\n  const [image, takeScreenShot] = useScreenshot({\n    type: \"image/jpeg\",\n    quality: 1.0,\n  });\n  const getImage = () =>  {\n    takeScreenShot(ref.current);\n  }\n  const leftChange = () => {\n    if (value > 0) {\n      setValue(value - 1);\n    }\n  };\n\n  const rightChange = () => {\n    if (value < 5) {\n      setValue(value + 1);\n    }\n  };\n\n  useEffect(() => {\n    if (value === 0) {\n      FaceMask(webcamRef, canvasRef);\n      setHeading(\"Facemask\");\n    } else if (value === 1) {\n      FaceCurve(webcamRef, canvasRef);\n      setHeading(\"Facecurve\");\n    } else if (value === 2) {\n      Lipstick(webcamRef, canvasRef);\n      setHeading(\"Lipstick\");\n    } else if (value === 3) {\n      HandPose(webcamRef, canvasRef);\n      setHeading(\"Handpose\");\n    } else if (value === 4) {\n      GreenScreen(webcamRef, canvasRef);\n      setHeading(\"Greenscreen\");\n    } else if (value === 5) {\n      BodyPose(webcamRef, canvasRef);\n      setHeading(\"Bodypose\");\n    }\n  }, [value]);\n\n  const download = (image, { name = \"img\", extension = \"jpg\" } = {}) => {\n    const a = document.createElement(\"a\");\n    a.href = image;\n    a.download = createFileName(extension, name);\n    a.click();\n  };\n\n  const downloadScreenshot = () => takeScreenShot(ref.current).then(download);\n\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/\");\n  };\n\n  useEffect(() => {\n    if (!localStorage.getItem(\"token\")) {\n      navigate(\"/\");\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <main>\n        <Box disply=\"flex\" justifyContent=\"space-between\">\n          <Typography\n            variant=\"subtitle2\"\n            color=\"textSecondary\"\n            align=\"center\"\n            style={{\n              userSelect: \"none\",\n              fontSize: 20,\n              letterSpacing: 6,\n              marginTop: 0,\n              position: \"absolute\",\n              left: 20,\n              top: 20,\n              color: \"#FFF\",\n            }}\n          >\n            FACEKART\n          </Typography>\n          <Button\n            variant=\"outlined\"\n            className={classes.iconButton}\n            onClick={signOut}\n          >\n            signOut\n          </Button>\n        </Box>\n        <Box\n          style={{\n            width: Screen ? 680 : 320,\n            background: \"#0006\",\n            position: \"absolute\",\n            zIndex: 29,\n            transform: \"translate(0% , -540%)\",\n          }}\n        >\n          <Typography\n            variant=\"subtitle2\"\n            color=\"textSecondary\"\n            align=\"center\"\n            style={{ color: \"#FFF\", fontSize: 20 }}\n          >\n            {heading}\n          </Typography>\n        </Box>\n        <div ref={ref} className={classes.webcam}>\n          <Webcam\n            ref={webcamRef}\n            style={{\n              position: \"absolute\",\n              marginLeft: \"auto\",\n              marginRight: \"auto\",\n              left: 0,\n              right: 0,\n              textAlign: \"center\",\n              zindex: 9,\n              width: Screen ? 700 : 340,\n              height: Screen ? 520 : 420,\n            }}\n          />{\" \"}\n          <canvas\n            ref={canvasRef}\n            className=\"output_canvas\"\n            style={{\n              position: \"absolute\",\n              marginLeft: \"auto\",\n              marginRight: \"auto\",\n              left: 0,\n              right: 0,\n              textAlign: \"center\",\n              zindex: 9,\n              width: Screen ? 700 : 340,\n              height: Screen ? 520 : 420,\n              background: \"#0002\",\n            }}\n          ></canvas>\n        </div>\n        <Box\n          display=\"flex\"\n          justifyContent=\"space-between\"\n          alignItems=\"flex-end\"\n          style={{ width: Screen ? 680 : 320 }}\n        >\n          <IconButton\n            style={{\n              color: \"#FFF\",\n              fontSize: 20,\n              padding: 20,\n              background: \"#0006\",\n            }}\n            onClick={leftChange}\n            disabled={value === 0 ? true : false}\n          >\n            <ArrowBackIosIcon />\n          </IconButton>\n          <IconButton\n            style={{\n              color: \"#FFF\",\n              fontSize: 20,\n              padding: 20,\n              background: \"#0006\",\n            }}\n            onClick={rightChange}\n            disabled={value === 5 ? true : false}\n          >\n            <ArrowForwardIosIcon />\n          </IconButton>\n        </Box>\n        <Box\n          className={classes.getImage}\n          style={{ width: Screen ? 680 : 320 , marginTop : Screen ? 120 : 70}}\n        >\n          <IconButton\n            style={{\n              color: \"#FFF\",\n              fontSize: 20,\n              padding: 20,\n              background: \"#0006\",\n            }}\n            onClick={getImage}\n          >\n            <PhotoCameraIcon />\n          </IconButton>\n        </Box>\n        <Box className={classes.image} style={{ marginTop : Screen ? -270 : -250}}>\n          {image && (\n            <img\n              style={{ height: \"110px\", width: \"125px\" }}\n              src={image}\n              alt=\"Screenshot\"\n            />\n          )}\n        </Box>\n        <Box className={classes.download} style={{marginTop : Screen ?  -270 : -250 , marginLeft : 90}}>\n          {image && (\n            <IconButton\n              style={{\n                color: \"#FFF\",\n                fontSize: 10,\n                padding: 5,\n                zIndex : 34\n              }}\n              onClick={downloadScreenshot}\n            >\n              <GetAppIcon />\n            </IconButton>\n          )}\n        </Box>\n      </main>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}